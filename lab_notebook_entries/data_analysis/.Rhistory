? rep
?write.table
getwd()
setwd("../")
getwd()
ls()
str(WL.LPP.LOI.sp13)
str(WL.LPP.LOI.sp13)
OM
sed
OM/sed
(OM/sed)*100
plot(perc.OM ~ lake, data = WL.LPP.LOI.sp13)
plot(perc.OM ~ samp, data = WL.LPP.LOI.sp13)
WL.LPP.LOI.sp13
plot(perc.OM ~ samp, data = WL.LPP.LOI.sp13)
WL.LPP.LOI.sp13
)
q()
n
pwd()
getwd()
setwd("/Volumes/NO NAME/working_files/current_research/pond_diversity_fcn/lab_notebook_entries/data_analysis/")
getwd()
nut <- read.table("./data/CPOM_Flux_Nutrients.csv", header = T, sep = ",")
sod.17Jun <- read.table("./data/cpom_flux_sod_17jun2014.csv", header = T, sep = ",")
sod.17Jun <- read.table("./data/cpom_flux_sod_17jun2014.csv", header = T, sep = ",")
repl.vol <- sod.17Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.17Jun <- merge(nut[nut$DATE == "17-Jun", ], repl.vol, by = "BOD")
nut.17Jun
prop.repl <- nut.17Jun$Replvol / nut.17Jun$BODwatervol
init.NOx.24Jun.C <- (nut.17Jun$NOx[nut.17Jun$NUTS == 0] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$NOx[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
init.NH3.24Jun.C <- (nut.17Jun$NH3[nut.17Jun$NUTS == 0] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$NH3[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
init.P.24Jun.C <- (nut.17Jun$P[nut.17Jun$NUTS == 0] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$P[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
flux.NOx.24Jun.C <- nut$NOx[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.NOx.24Jun.C
flux.NH3.24Jun.C <- nut$NH3[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.NH3.24Jun.C
flux.P.24Jun.C <- nut$P[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.P.24Jun.C
CPOM.C <- nut$CPOM[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"]
flux.24Jun.C <- data.frame(CPOM.C, flux.NOx.24Jun.C, flux.NH3.24Jun.C, flux.P.24Jun.C)
names(flux.24Jun.C) <- c("CPOM", "NOx", "NH3", "P")
flux.24Jun.C
plot(NOx ~ CPOM, data = flux.24Jun.C)
plot(NOx ~ CPOM, data = flux.24Jun.C, ylim = c(-2, 2))
abline(h = 0)
plot(NH3 ~ CPOM, data = flux.24Jun.C, ylim = c(-2, 2))
plot(P ~ CPOM, data = flux.24Jun.C, ylim = c(-2, 2))
plot(P ~ CPOM, data = flux.24Jun.C, ylim = c(-0.5, 0.5))
plot(P ~ CPOM, data = flux.24Jun.C, ylim = c(-0.2, 0.2))
plot(P ~ CPOM, data = flux.24Jun.C, ylim = c(-0.1, 0.1))
anova(lm(P ~ CPOM, data = flux.24Jun.C))
sod.1Jul <- read.table("./data/cpom_flux_sod_1jul2014.csv", header = T, sep = ",")
nut.1Jul <- merge(nut[nut$DATE == "1-Jul", ], repl.vol, by = "BOD")
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.1Jul <- merge(nut[nut$DATE == "1-Jul", ], repl.vol, by = "BOD")
prop.repl <- nut.1Jul$Replvol / nut.1Jul$BODwatervol
init.NOx.1Jul.C <- (nut.24Jun$NOx[nut.24Jun$NUTS == 0] * (1 - prop.repl[nut.24Jun$NUTS == "0"])) + (nut$NOx[nut$BOD == "RW0" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "0"])
repl.vol <- sod.24Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.24Jun <- merge(nut[nut$DATE == "24-Jun", ], repl.vol, by = "BOD")
sod.24Jun <- read.table("./data/cpom_flux_sod_24jun2014.csv", header = T, sep = ",")
repl.vol <- sod.24Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.24Jun <- merge(nut[nut$DATE == "24-Jun", ], repl.vol, by = "BOD")
prop.repl <- nut.1Jul$Replvol / nut.1Jul$BODwatervol
init.NOx.1Jul.C <- (nut.24Jun$NOx[nut.24Jun$NUTS == 0] * (1 - prop.repl[nut.24Jun$NUTS == "0"])) + (nut$NOx[nut$BOD == "RW0" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "0"])
init.NH3.1Jul.C <- (nut.24Jun$NH3[nut.24Jun$NUTS == 0] * (1 - prop.repl[nut.24Jun$NUTS == "0"])) + (nut$NH3[nut$BOD == "RW0" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "0"])
init.P.1Jul.C <- (nut.24Jun$P[nut.24Jun$NUTS == 0] * (1 - prop.repl[nut.24Jun$NUTS == "0"])) + (nut$P[nut$BOD == "RW0" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "0"])
flux.NOx.1Jul.C <- nut$NOx[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"] - init.NOx.1Jul.C
flux.NH3.1Jul.C <- nut$NH3[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"] - init.NH3.1Jul.C
flux.P.1Jul.C <- nut$P[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"] - init.P.1Jul.C
CPOM.C <- nut$CPOM[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"]
flux.1Jul.C <- data.frame(CPOM.C, flux.NOx.1Jul.C, flux.NH3.1Jul.C, flux.P.1Jul.C)
names(flux.1Jul.C) <- c("CPOM", "NOx", "NH3", "P")
flux.1Jul.C
plot(NOx ~ CPOM, data = flux.1Jul.C)
plot(NOx ~ CPOM, data = flux.1Jul.C, ylim = c(-2, 2))
plot(NH3 ~ CPOM, data = flux.1Jul.C, ylim = c(-2, 2)
)
plot(NH3 ~ CPOM, data = flux.1Jul.C, ylim = c(-2, 2))
plot(NH3 ~ CPOM, data = flux.1Jul.C, ylim = c(-0.2, 0.2))
plot(P ~ CPOM, data = flux.1Jul.C, ylim = c(-0.2, 0.2))
nut$NUTS
NOx.flux.12Jun.N <-  nut$NOx[nut$BOD != "RWN" & nut$DATE == "12-Jun" & nut$NUTS == "N"] - nut$NOx[nut$BOD == "RWN" & nut$DATE == "10-Jun"]
NH3.flux.12Jun.N <-  nut$NH3[nut$BOD != "RWN" & nut$DATE == "12-Jun" & nut$NUTS == "N"] - nut$NH3[nut$BOD == "RWN" & nut$DATE == "10-Jun"]
P.flux.12Jun.N <-  nut$P[nut$BOD != "RWN" & nut$DATE == "12-Jun" & nut$NUTS == "N"] - nut$P[nut$BOD == "RWN" & nut$DATE == "10-Jun"]
CPOM.N <- nut$CPOM[nut$BOD != "RWN" & nut$DATE == "12-Jun" & nut$NUTS == "N"]
flux.12Jun.N <- data.frame(CPOM.N, NOx.flux.12Jun.N, NH3.flux.12Jun.N, P.flux.12Jun.N )
names(flux.12Jun.N) <- c("CPOM", "NOx", "NH3", "P")
flux.12Jun.N
plot(NOx ~ CPOM, data = flux.12Jun.N)
plot(NOx ~ CPOM, data = flux.12Jun.C)
prop.repl <- nut.12Jun$Replvol / nut.12Jun$BODwatervol
sod.12Jun <- read.table("./data/cpom_flux_sod_12jun2014.csv", header = T, sep = ",")
repl.vol <- sod.12Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.12Jun <- merge(nut[nut$DATE == "12-Jun", ], repl.vol, by = "BOD")
prop.repl <- nut.12Jun$Replvol / nut.12Jun$BODwatervol
init.NOx.17Jun.N <- (nut.12Jun$NOx[nut.12Jun$NUTS == N] * (1 - prop.repl[nut.12Jun$NUTS == "N"])) + (nut$NOx[nut$BOD == "RWN" & nut$DATE == "12-Jun"] * prop.repl[nut.12Jun$NUTS == "N"])
prop.repl <- nut.12Jun$Replvol / nut.12Jun$BODwatervol
init.NOx.17Jun.N <- (nut.12Jun$NOx[nut.12Jun$NUTS == "N"] * (1 - prop.repl[nut.12Jun$NUTS == "N"])) + (nut$NOx[nut$BOD == "RWN" & nut$DATE == "12-Jun"] * prop.repl[nut.12Jun$NUTS == "N"])
init.NH3.17Jun.N <- (nut.12Jun$NH3[nut.12Jun$NUTS == "N"] * (1 - prop.repl[nut.12Jun$NUTS == "N"])) + (nut$NH3[nut$BOD == "RWN" & nut$DATE == "12-Jun"] * prop.repl[nut.12Jun$NUTS == "N"])
init.P.17Jun.N <- (nut.12Jun$P[nut.12Jun$NUTS == "N"] * (1 - prop.repl[nut.12Jun$NUTS == "N"])) + (nut$P[nut$BOD == "RWN" & nut$DATE == "12-Jun"] * prop.repl[nut.12Jun$NUTS == "N"])
CPOM.N <- nut$CPOM[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"]
flux.NOx.17Jun.N <- nut$NOx[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"] - init.NOx.17Jun.N
flux.NH3.17Jun.N <- nut$NH3[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"] - init.NH3.17Jun.N
flux.P.17Jun.N <- nut$P[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"] - init.P.17Jun.N
flux.NOx.17Jun.N <- nut$NOx[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"] - init.NOx.17Jun.N
flux.NH3.17Jun.N <- nut$NH3[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"] - init.NH3.17Jun.N
flux.P.17Jun.N <- nut$P[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"] - init.P.17Jun.N
CPOM.N <- nut$CPOM[nut$BOD != "RWN" & nut$DATE == "17-Jun" & nut$NUTS == "N"]
flux.17Jun.N <- data.frame(CPOM.N, flux.NOx.17Jun.N, flux.NH3.17Jun.N, flux.P.17Jun.N)
names(flux.17Jun.N) <- c("CPOM", "NOx", "NH3", "P")
flux.17Jun.N
plot(NOx ~ CPOM, data = flux.17Jun.N)
sod.17Jun <- read.table("./data/cpom_flux_sod_17jun2014.csv", header = T, sep = ",")
repl.vol <- sod.17Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.17Jun <- merge(nut[nut$DATE == "17-Jun", ], repl.vol, by = "BOD")
prop.repl <- nut.17Jun$Replvol / nut.17Jun$BODwatervol
prop.repl <- nut.17Jun$Replvol / nut.17Jun$BODwatervol
init.NOx.24Jun.N <- (nut.17Jun$NOx[nut.17Jun$NUTS == "N"] * (1 - prop.repl[nut.17Jun$NUTS == "N"])) + (nut$NOx[nut$BOD == "RWN" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "N"])
init.NH3.24Jun.N <- (nut.17Jun$NH3[nut.17Jun$NUTS == "N"] * (1 - prop.repl[nut.17Jun$NUTS == "N"])) + (nut$NH3[nut$BOD == "RWN" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "N"])
init.P.24Jun.C <- (nut.17Jun$P[nut.17Jun$NUTS == "N"] * (1 - prop.repl[nut.17Jun$NUTS == "N"])) + (nut$P[nut$BOD == "RWN" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "N"])
flux.NOx.24Jun.N <- nut$NOx[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"] - init.NOx.24Jun.N
flux.NH3.24Jun.N <- nut$NH3[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"] - init.NH3.24Jun.N
flux.P.24Jun.N <- nut$P[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"] - init.P.24Jun.N
CPOM.N <- nut$CPOM[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"]
flux.24Jun.N <- data.frame(CPOM.N, flux.NOx.24Jun.N, flux.NH3.24Jun.N, flux.P.24Jun.N)
names(flux.24Jun.N) <- c("CPOM", "NOx", "NH3", "P")
prop.repl <- nut.17Jun$Replvol / nut.17Jun$BODwatervol
init.NOx.24Jun.N <- (nut.17Jun$NOx[nut.17Jun$NUTS == "N"] * (1 - prop.repl[nut.17Jun$NUTS == "N"])) + (nut$NOx[nut$BOD == "RWN" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "N"])
init.NH3.24Jun.N <- (nut.17Jun$NH3[nut.17Jun$NUTS == "N"] * (1 - prop.repl[nut.17Jun$NUTS == "N"])) + (nut$NH3[nut$BOD == "RWN" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "N"])
init.P.24Jun.N <- (nut.17Jun$P[nut.17Jun$NUTS == "N"] * (1 - prop.repl[nut.17Jun$NUTS == "N"])) + (nut$P[nut$BOD == "RWN" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "N"])
##### Calculate the Flux as the change in Concentration
flux.NOx.24Jun.N <- nut$NOx[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"] - init.NOx.24Jun.N
flux.NH3.24Jun.N <- nut$NH3[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"] - init.NH3.24Jun.N
flux.P.24Jun.N <- nut$P[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"] - init.P.24Jun.N
CPOM.N <- nut$CPOM[nut$BOD != "RWN" & nut$DATE == "24-Jun" & nut$NUTS == "N"]
flux.24Jun.N <- data.frame(CPOM.N, flux.NOx.24Jun.N, flux.NH3.24Jun.N, flux.P.24Jun.N)
names(flux.24Jun.N) <- c("CPOM", "NOx", "NH3", "P")
flux.24Jun.N
prop.repl <- nut.17Jun$Replvol / nut.17Jun$BODwatervol
init.NOx.24Jun.C <- (nut.17Jun$NOx[nut.17Jun$NUTS == "0"] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$NOx[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
init.NH3.24Jun.C <- (nut.17Jun$NH3[nut.17Jun$NUTS == "0"] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$NH3[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
init.P.24Jun.C <- (nut.17Jun$P[nut.17Jun$NUTS == "0"] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$P[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
flux.NOx.24Jun.C <- nut$NOx[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.NOx.24Jun.C
flux.NH3.24Jun.C <- nut$NH3[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.NH3.24Jun.C
flux.P.24Jun.C <- nut$P[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.P.24Jun.C
CPOM.C <- nut$CPOM[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"]
flux.24Jun.C <- data.frame(CPOM.C, flux.NOx.24Jun.C, flux.NH3.24Jun.C, flux.P.24Jun.C)
names(flux.24Jun.C) <- c("CPOM", "NOx", "NH3", "P")
flux.24Jun.C
sod.24Jun <- read.table("./data/cpom_flux_sod_24jun2014.csv", header = T, sep = ",")
repl.vol <- sod.24Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.24Jun <- merge(nut[nut$DATE == "24-Jun", ], repl.vol, by = "BOD")
prop.repl <- nut.1Jul$Replvol / nut.1Jul$BODwatervol
prop.repl <- nut.1Jul$Replvol / nut.1Jul$BODwatervol
init.NOx.1Jul.N <- (nut.24Jun$NOx[nut.24Jun$NUTS == "N"] * (1 - prop.repl[nut.24Jun$NUTS == "N"])) + (nut$NOx[nut$BOD == "RWN" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "N"])
init.NH3.1Jul.N <- (nut.24Jun$NH3[nut.24Jun$NUTS == "N"] * (1 - prop.repl[nut.24Jun$NUTS == "N"])) + (nut$NH3[nut$BOD == "RWN" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "N"])
init.P.1Jul.N <- (nut.24Jun$P[nut.24Jun$NUTS == "N"] * (1 - prop.repl[nut.24Jun$NUTS == "N"])) + (nut$P[nut$BOD == "RWN" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "N"])
flux.NOx.1Jul.N <- nut$NOx[nut$BOD != "RWN" & nut$DATE == "1-Jul" & nut$NUTS == "N"] - init.NOx.1Jul.N
flux.NH3.1Jul.N <- nut$NH3[nut$BOD != "RWN" & nut$DATE == "1-Jul" & nut$NUTS == "N"] - init.NH3.1Jul.N
flux.P.1Jul.N <- nut$P[nut$BOD != "RWN" & nut$DATE == "1-Jul" & nut$NUTS == "N"] - init.P.1Jul.N
CPOM.N <- nut$CPOM[nut$BOD != "RWN" & nut$DATE == "1-Jul" & nut$NUTS == "N"]
flux.1Jul.N <- data.frame(CPOM.N, flux.NOx.1Jul.N, flux.NH3.1Jul.N, flux.P.1Jul.N)
names(flux.1Jul.N) <- c("CPOM", "NOx", "NH3", "P")
flux.1Jul.N
plot(NOx ~ CPOM, data = flux.1Jul.N)
c(flux.12Jun.C, flux.12Jun.N)
nut <- read.table("./data/CPOM_Flux_Nutrients.csv", header = T, sep = ",")
NOx.flux.12Jun.C <-  nut$NOx[nut$BOD != "RW0" & nut$DATE == "12-Jun" & nut$NUTS == "0"] - nut$NOx[nut$BOD == "RW0" & nut$DATE == "10-Jun"]
NH3.flux.12Jun.C <-  nut$NH3[nut$BOD != "RW0" & nut$DATE == "12-Jun" & nut$NUTS == "0"] - nut$NH3[nut$BOD == "RW0" & nut$DATE == "10-Jun"]
P.flux.12Jun.C <-  nut$P[nut$BOD != "RW0" & nut$DATE == "12-Jun" & nut$NUTS == "0"] - nut$P[nut$BOD == "RW0" & nut$DATE == "10-Jun"]
CPOM.0 <- nut$CPOM[nut$BOD != "RW0" & nut$DATE == "12-Jun" & nut$NUTS == "0"]
flux.12Jun.C <- data.frame(CPOM.0, NOx.flux.12Jun.C, NH3.flux.12Jun.C, P.flux.12Jun.C )
names(flux.12Jun.C) <- c("CPOM", "NOx", "NH3", "P")
##### Output
sod.12Jun <- read.table("./data/cpom_flux_sod_12jun2014.csv", header = T, sep = ",")
##### Merge replacement volume data with Nutrient data
repl.vol <- sod.12Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.12Jun <- merge(nut[nut$DATE == "12-Jun", ], repl.vol, by = "BOD")
##### Calculate the initial nutrient concentration as a weighted average of the volumes
prop.repl <- nut.12Jun$Replvol / nut.12Jun$BODwatervol
init.NOx.17Jun.C <- (nut.12Jun$NOx[nut.12Jun$NUTS == "0"] * (1 - prop.repl[nut.12Jun$NUTS == "0"])) + (nut$NOx[nut$BOD == "RW0" & nut$DATE == "12-Jun"] * prop.repl[nut.12Jun$NUTS == "0"])
init.NH3.17Jun.C <- (nut.12Jun$NH3[nut.12Jun$NUTS == "0"] * (1 - prop.repl[nut.12Jun$NUTS == "0"])) + (nut$NH3[nut$BOD == "RW0" & nut$DATE == "12-Jun"] * prop.repl[nut.12Jun$NUTS == "0"])
init.P.17Jun.C <- (nut.12Jun$P[nut.12Jun$NUTS == "0"] * (1 - prop.repl[nut.12Jun$NUTS == "0"])) + (nut$P[nut$BOD == "RW0" & nut$DATE == "12-Jun"] * prop.repl[nut.12Jun$NUTS == "0"])
##### Calculate the Flux as the change in Concentration
flux.NOx.17Jun.C <- nut$NOx[nut$BOD != "RW0" & nut$DATE == "17-Jun" & nut$NUTS == "0"] - init.NOx.17Jun.C
flux.NH3.17Jun.C <- nut$NH3[nut$BOD != "RW0" & nut$DATE == "17-Jun" & nut$NUTS == "0"] - init.NH3.17Jun.C
flux.P.17Jun.C <- nut$P[nut$BOD != "RW0" & nut$DATE == "17-Jun" & nut$NUTS == "0"] - init.P.17Jun.C
CPOM.C <- nut$CPOM[nut$BOD != "RW0" & nut$DATE == "17-Jun" & nut$NUTS == "0"]
flux.17Jun.C <- data.frame(CPOM.C, flux.NOx.17Jun.C, flux.NH3.17Jun.C, flux.P.17Jun.C)
names(flux.17Jun.C) <- c("CPOM", "NOx", "NH3", "P")
sod.17Jun <- read.table("./data/cpom_flux_sod_17jun2014.csv", header = T, sep = ",")
##### Merge replacement volume data with Nutrient data
repl.vol <- sod.17Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.17Jun <- merge(nut[nut$DATE == "17-Jun", ], repl.vol, by = "BOD")
##### Calculate the initial nutrient concentration as a weighted average of the volumes
prop.repl <- nut.17Jun$Replvol / nut.17Jun$BODwatervol
init.NOx.24Jun.C <- (nut.17Jun$NOx[nut.17Jun$NUTS == "0"] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$NOx[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
init.NH3.24Jun.C <- (nut.17Jun$NH3[nut.17Jun$NUTS == "0"] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$NH3[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
init.P.24Jun.C <- (nut.17Jun$P[nut.17Jun$NUTS == "0"] * (1 - prop.repl[nut.17Jun$NUTS == "0"])) + (nut$P[nut$BOD == "RW0" & nut$DATE == "17-Jun"] * prop.repl[nut.17Jun$NUTS == "0"])
##### Calculate the Flux as the change in Concentration
flux.NOx.24Jun.C <- nut$NOx[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.NOx.24Jun.C
flux.NH3.24Jun.C <- nut$NH3[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.NH3.24Jun.C
flux.P.24Jun.C <- nut$P[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"] - init.P.24Jun.C
CPOM.C <- nut$CPOM[nut$BOD != "RW0" & nut$DATE == "24-Jun" & nut$NUTS == "0"]
flux.24Jun.C <- data.frame(CPOM.C, flux.NOx.24Jun.C, flux.NH3.24Jun.C, flux.P.24Jun.C)
names(flux.24Jun.C) <- c("CPOM", "NOx", "NH3", "P")
sod.24Jun <- read.table("./data/cpom_flux_sod_24jun2014.csv", header = T, sep = ",")
##### Merge replacement volume data with Nutrient data
repl.vol <- sod.24Jun[, c(1, 13, 14)] # selects only the BOD number and the repl vol from the file
names(repl.vol) <- c("BOD", "Replvol", "BODwatervol")
nut.24Jun <- merge(nut[nut$DATE == "24-Jun", ], repl.vol, by = "BOD")
##### Calculate the initial nutrient concentration as a weighted average of the volumes
prop.repl <- nut.1Jul$Replvol / nut.1Jul$BODwatervol
init.NOx.1Jul.C <- (nut.24Jun$NOx[nut.24Jun$NUTS == 0] * (1 - prop.repl[nut.24Jun$NUTS == "0"])) + (nut$NOx[nut$BOD == "RW0" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "0"])
init.NH3.1Jul.C <- (nut.24Jun$NH3[nut.24Jun$NUTS == 0] * (1 - prop.repl[nut.24Jun$NUTS == "0"])) + (nut$NH3[nut$BOD == "RW0" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "0"])
init.P.1Jul.C <- (nut.24Jun$P[nut.24Jun$NUTS == 0] * (1 - prop.repl[nut.24Jun$NUTS == "0"])) + (nut$P[nut$BOD == "RW0" & nut$DATE == "24-Jun"] * prop.repl[nut.24Jun$NUTS == "0"])
##### Calculate the Flux as the change in Concentration
flux.NOx.1Jul.C <- nut$NOx[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"] - init.NOx.1Jul.C
flux.NH3.1Jul.C <- nut$NH3[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"] - init.NH3.1Jul.C
flux.P.1Jul.C <- nut$P[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"] - init.P.1Jul.C
CPOM.C <- nut$CPOM[nut$BOD != "RW0" & nut$DATE == "1-Jul" & nut$NUTS == "0"]
flux.1Jul.C <- data.frame(CPOM.C, flux.NOx.1Jul.C, flux.NH3.1Jul.C, flux.P.1Jul.C)
names(flux.1Jul.C) <- c("CPOM", "NOx", "NH3", "P")
c(flux.12Jun.C, flux.12Jun.N)
data.fram(flux.12Jun.C, flux.12Jun.N)
data.frame(flux.12Jun.C, flux.12Jun.N)
merge(flux.12Jun.C, flux.12Jun.N)
rbind(flux.12Jun.C, flux.12Jun.N)
date <- c(rep("12-Jun", 16), rep("17-Jun", 16), rep("24-Jun", 16), rep("1-Jul", 16))
NUT <- c(rep(c(rep("0", 8), rep("N", 8)), 4))
data.frame(date, NUT)
DATE <- c(rep("12-Jun", 16), rep("17-Jun", 16), rep("24-Jun", 16), rep("1-Jul", 16))
NUT <- c(rep(c(rep("0", 8), rep("N", 8)), 4))
rbind(flux.12Jun.C, flux.12Jun.N, flux.17Jun.C, flux.17Jun.N, flux.24Jun.C, flux.24Jun.N, flux.1Jul.C, flux.1Jul.N)
flux <- rbind(flux.12Jun.C, flux.12Jun.N, flux.17Jun.C, flux.17Jun.N, flux.24Jun.C, flux.24Jun.N, flux.1Jul.C, flux.1Jul.N)
cpom.flux.nut <- data.frame(DATE, NUT, flux)
cpom.flux.nut
str(cpom.flux.nut)
plot(NOx ~ DATE, data = cpom.flux.nut)
plot(NOx ~ DATE, data = cpom.flux.nut, subset = NUT == "0")
plot(NOx ~ DATE, data = cpom.flux.nut, subset = NUT == "N")
plot(NOx ~ as.numeric(DATE), data = cpom.flux.nut, subset = NUT == "N")
plot(NOx ~ DATE, data = cpom.flux.nut, subset = NUT == "N")
abline(h = 0)
plot(NOx ~ DATE, data = cpom.flux.nut, subset = NUT == "0")
plot(NOx ~ DATE, data = cpom.flux.nut, subset = CPOM = "0")
plot(NOx ~ DATE, data = cpom.flux.nut, subset = CPOM == "0")
abline(h = 0)
plot(NOx ~ DATE, data = cpom.flux.nut, subset = CPOM == "C")
abline(h = 0)
plot(NH3 ~ DATE, data = cpom.flux.nut, subset = CPOM == "C")
abline(h = 0)
plot(NH3 ~ DATE, data = cpom.flux.nut, subset = CPOM == "0")
abline(h = 0)
plot(P ~ DATE, data = cpom.flux.nut, subset = CPOM == "0")
abline(h = 0)
plot(P ~ DATE, data = cpom.flux.nut, subset = CPOM == "C")
abline(h = 0)
T <- c(rep(2, 16), rep(7, 16), rep(14, 16), rep(21, 16))
cpom.flux.nut <- data.frame(DATE, T, NUT, flux)
plot(P ~ T, data = cpom.flux.nut, subset = CPOM == "C")
points(P ~ T, data = cpom.flux.nut, subset = CPOM == "0", pch = 16)
plot(NOx ~ T, data = cpom.flux.nut, subset = CPOM == "C")
points(NOx ~ T, data = cpom.flux.nut, subset = CPOM == "0", pch = 16)
q()
